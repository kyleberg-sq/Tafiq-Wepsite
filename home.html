<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Khatwa | Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script>
  if (localStorage.getItem('isLoggedIn') !== 'true') {
    window.location.href = 'login.html'
  }
</script>

<nav class="navbar">
  <a class="btn" href="#" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
  <h3 class="logo">Khatwa</h3>
</nav>

<header class="hero dashboard-hero">
  <div class="hero-overlay">
    <h1 id="welcome"></h1>
    <p>Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
    <a class="btn" href="doctors.html">Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯</a>
  </div>
</header>

<section class="stats">
  <div class="stat">
    <h3 id="upcoming-count">0</h3>
    <p>Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù‚Ø§Ø¯Ù…Ø©</p>
  </div>
  <div class="stat">
    <h3 id="completed-count">0</h3>
    <p>Ø¬Ù„Ø³Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</p>
  </div>
  <div class="stat">
    <h3 id="last-appointment">â€”</h3>
    <p>Ø¢Ø®Ø± Ù…ÙˆØ¹Ø¯</p>
  </div>
</section>

<section class="appointments">
  <h2>Ù…ÙˆØ§Ø¹ÙŠØ¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h2>

  <div id="appointments-list" class="appointments-list">
    <p class="empty">
      Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù…Ø­Ø¬ÙˆØ²Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§<br><br>
      <a class="btn" href="doctors.html">Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø§Ù„Ø£ÙˆÙ„</a>
    </p>
  </div>
</section>

<section class="quick-actions">
  <a class="btn" href="doctors.html">Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯</a>
  <a class="btn" href="#">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</a>
  <a class="btn" href="#">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</a>
</section>

<section class="tip">
  <h2>Ù†ØµÙŠØ­Ø© Ø§Ù„ÙŠÙˆÙ…</h2>
  <p>Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ© ÙŠØ³Ø±Ù‘Ø¹ Ø§Ù„ØªØ¹Ø§ÙÙŠ Ø¨Ù†Ø³Ø¨Ø© ÙƒØ¨ÙŠØ±Ø©.</p>
</section>

<footer class="footer">
  <div class="socials">
    <a href="#">X</a>
    <a href="#">Instagram</a>
    <a href="#">Facebook</a>
  </div>
  <p class="designer">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ±: @criticar_idk</p>
  <p>Â© 2025 Khatwa â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>

<script>
  const name = localStorage.getItem('userName') || 'Ù…Ø³ØªØ®Ø¯Ù…'
  document.getElementById('welcome').innerText = `Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ${name} ğŸ‘‹`

  const list = document.getElementById('appointments-list')
  const appointments = JSON.parse(localStorage.getItem('appointments')) || []

  if (appointments.length) {
    list.innerHTML = ''
    appointments.forEach(a => {
      const div = document.createElement('div')
      div.className = 'appointment-card'
      div.innerHTML = `
        <h3>${a.doctor}</h3>
        <p>ğŸ“… ${a.date}</p>
        <p>â° ${a.time}</p>
      `
      list.appendChild(div)
    })
  }

  document.getElementById('upcoming-count').innerText = appointments.length
  document.getElementById('last-appointment').innerText =
    appointments.length ? appointments[appointments.length - 1].date : 'â€”'

  function logout() {
    localStorage.removeItem('isLoggedIn')
    localStorage.removeItem('userName')
    localStorage.removeItem('appointments')
    window.location.href = 'login.html'
  }
</script>

</body>
</html>
